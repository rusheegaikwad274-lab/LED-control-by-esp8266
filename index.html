<!DOCTYPE html>
<html>
<head>
  <title>ESP8266 LED Control</title>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <style>
    body {
      font-family: Arial;
      text-align: center;
      margin-top: 50px;
      background: #f2f2f2;
    }

    button {
      padding: 15px 25px;
      margin: 10px;
      font-size: 18px;
      cursor: pointer;
    }

    input[type=range] {
      width: 250px;
    }
  </style>
</head>

<body>

  <h1>ESP8266 LED Control</h1>

  <button onclick="ledOn()">ON</button>
  <button onclick="ledOff()">OFF</button>
  <button onclick="ledBlink()">BLINK</button>

  <br><br>

  <input type="range" min="0" max="255" value="0" oninput="setBrightness(this.value)">
  <p id="brightVal">Brightness: 0</p>

  <p id="status">Status: --</p>

  <script>
    // ðŸ”¥ Firebase configuration
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "led-control-by-esp8266.firebaseapp.com",
      databaseURL: "https://led-control-by-esp8266-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "led-control-by-esp8266"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function ledOn() {
      db.ref("led").update({
        power: 1,
        mode: "normal",
        brightness: 255
      });
      document.getElementById("status").innerText = "Status: LED ON";
    }

    function ledOff() {
      db.ref("led").update({
        power: 0,
        mode: "normal",
        brightness: 0
      });
      document.getElementById("status").innerText = "Status: LED OFF";
    }

    function ledBlink() {
      db.ref("led").update({
        power: 1,
        mode: "blink"
      });
      document.getElementById("status").innerText = "Status: LED BLINK";
    }

    function setBrightness(val) {
      db.ref("led").update({
        brightness: Number(val),
        power: 1,
        mode: "normal"
      });
      document.getElementById("brightVal").innerText = "Brightness: " + val;
    }
  </script>

</body>
</html>